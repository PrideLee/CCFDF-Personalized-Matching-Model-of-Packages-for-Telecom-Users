0£º
[[1144    5    3   20  205   23    8    1   18   18   15]
 [   8 3425   59  126    6    1   15    1    0    0    0]
 [   5  142  684  140    9    2    7    0    0    0    2]
 [   8   86   46  732   19    0   12    0    0    0    1]
 [ 167   16    0   16 4043  196   44    2   17   39   48]
 [  41    1    0    6  201 3461   10    5   60   75  335]
 [  30   22   13   22  130   25 2069    1    4    9    1]
 [   0    1    0    0    1    3    1 1407   62   13    8]
 [   3    0    0    2    7   34    1   92 1653  213   87]
 [  16    0    0    2   16   77    0   35  248 1515  328]
 [  42    8    0    5   67  287    4   21  147  199 2895]]
1(300 Trees  max_depth=None, max_features=maxFeat, oob_score=False, random_state=531)£º
[[1138    6    2   18  212   21    8    1   19   18   17]
 [   9 3423   59  123    9    2   14    1    0    1    0]
 [   4  142  691  132    9    3    8    0    0    0    2]
 [   7   95   47  724   17    0   13    0    0    0    1]
 [ 166   15    0   15 4034  199   46    2   19   33   59]
 [  45    1    0    6  201 3464   11    4   63   85  315]
 [  32   18   11   17  136   20 2075    0    5    9    3]
 [   1    1    0    0    1    3    1 1406   62   12    9]
 [   3    0    0    3    8   36    1   88 1650  217   86]
 [  17    0    0    2   15   75    0   29  253 1531  315]
 [  41    9    0    5   68  284    5   21  144  199 2899]]
2:(n_estimators=300, max_depth=12, max_features=maxFeat, oob_score=False, random_state=531)
[[1277    9    8   47  124   37   23    7   17   18    5]
 [  12 1319   82  132    0    0    6    0    1    1    1]
 [  19   93  974  316    1    1    8    0    0    2    2]
 [  26   53  107 1151    3    0    7    0    0    1    1]
 [ 154    5    6   51 1138  146   49    1   15   37   22]
 [  73    2    1   23   79 1330    8    8   52  142  119]
 [  67   12   44   45   78   39 1354    0    6   14    1]
 [   5    0    0    4    0    1    1 1454   75   21    9]
 [  30    1    0   12    2   44    3  119  930  276   31]
 [  56    1    0   12    6  100    1   61  181 1086  126]
 [  69    0    1    9   24  270    7   22   88  251  862]]
3:(n_estimators=300, max_depth=25, max_features=maxFeat, oob_score=False, random_state=531)
[[1339    3    6   26  111   23   18    7   12   21    6]
 [   8 1341   82  107    1    2   10    0    1    1    1]
 [  14   78 1075  236    3    2    5    0    1    0    2]
 [  18   29  114 1176    1    1   10    0    0    0    0]
 [ 141    2    3   23 1246  100   39    1   15   29   25]
 [  47    2    0   12   61 1412    8    7   46  100  142]
 [  44    7   18   29   64   20 1464    0    6    7    1]
 [   2    0    0    3    0    1    1 1486   61   12    4]
 [  13    0    0    5    2   21    2   98 1090  201   16]
 [  33    0    0    5    5   44    2   48  204 1185  104]
 [  43    0    0    6   17  147    7   20   82  204 1077]]
train correct
0.9994786437012435
F1_score
0.6471585447361426
test correct
0.804668945142791
3:(n_estimators=300, max_depth=27, max_features=maxFeat, oob_score=False, random_state=531)
[[1351    4    6   24  108   22   16    6   15   15    5]
 [   8 1342   87  102    1    2    9    0    1    1    1]
 [  15   76 1085  226    3    2    6    0    0    1    2]
 [  17   29  124 1169    1    1    8    0    0    0    0]
 [ 139    3    2   20 1262   95   38    1   15   27   22]
 [  48    2    1   13   61 1409    7    8   48   94  146]
 [  39    6   21   31   67   20 1463    0    3    7    3]
 [   3    0    0    2    0    1    0 1490   61   10    3]
 [  12    0    1    4    1   17    2   98 1084  209   20]
 [  38    0    1    6    4   44    1   47  203 1190   96]
 [  43    0    0    5   18  137    6   18   81  208 1087]]
train correct
1.0
test correct
0.8053061460927996
F1_score
0.64798349254072
Best correct
0.8070439668655506
Best_F1_score
0.6508788138903058

4:(n_estimators=360, max_depth=27, max_features=maxFeat, oob_score=False, random_state=531)
[[1349    3    6   24  111   16   17    4   17   19    6]
 [   8 1343   81  106    1    1   10    0    2    1    1]
 [  13   73 1083  231    3    2    8    0    1    0    2]
 [  19   32  124 1162    3    0    8    0    0    0    1]
 [ 144    3    4   24 1253   91   38    1   13   28   25]
 [  48    2    0   13   57 1417    8    7   47   98  140]
 [  39    7   25   30   66   24 1456    0    4    5    4]
 [   2    0    0    3    0    1    1 1488   66    7    2]
 [  17    0    0    4    2   18    2   93 1089  203   20]
 [  33    1    0    6    3   44    2   50  200 1191  100]
 [  40    0    0    6   19  134    5   17   91  199 1092]]
Best correct
0.8065226206337253
Best_F1_score
0.6499426510909111

5:(n_estimators=360, max_depth=27, max_features=0.4, oob_score=False, random_state=531)
[[1345    4    7   18  110   22   18    5   16   19    8]
 [   7 1348   83  103    0    2    7    0    2    1    1]
 [  14   75 1095  213    2    3   10    0    1    0    3]
 [  18   27  115 1172    3    2   11    0    1    0    0]
 [ 138    2    3   19 1263   98   41    1   10   29   20]
 [  44    1    1   11   62 1423    6    6   39   90  154]
 [  36    7   19   31   65   17 1475    0    2    4    4]
 [   4    0    0    1    0    0    1 1486   64   12    2]
 [  14    0    0    5    2   15    2   82 1117  195   16]
 [  28    0    0    8    3   39    3   42  209 1206   92]
 [  36    0    0    7   15  120    7   15   84  207 1112]]
train correct
0.9996459926366469
F1 Score test
0.6614967192618335
test correct
0.8134159763656374
Best_F1_score
0.6614967192618335

6:£¨n_estimators=350, max_depth=27, n_jobs=4, max_features=0.4, oob_score=False, random_state=531£©
select_par = ['online_time_norm',
              'month_traffic_norm', 'many_over_bill', 'contract_type',
              'contract_time_norm', 'pay_times', 'pay_num_norm',
              'last_month_traffic_norm', 'local_trafffic_month_norm', 'local_caller_time_norm',
              'service1_caller_time_norm', 'service2_caller_time_norm', 'gender', 'age_norm',
              'fee_mean', 'fee_mean_2', 'fee_std', 'fee_mean_2_norm',
              'fee_fluctuate',
              'user_id']
[[1343    4    6   17  110   24   18    4   18   20    8]
 [   8 1356   79   98    0    2    8    0    1    1    1]
 [  13   75 1083  225    2    3   10    1    1    0    3]
 [  18   32  118 1166    0    2    9    0    3    0    1]
 [ 135    4    5   18 1256   93   43    1   13   33   23]
 [  45    2    1   10   61 1430    6    4   43   91  144]
 [  33    7   19   30   61   20 1476    0    3    7    4]
 [   3    0    0    2    0    1    1 1485   67    9    2]
 [  12    0    1    3    1   19    2   83 1110  198   19]
 [  30    0    1    8    3   39    3   39  217 1192   98]
 [  35    0    0    5   15  128    6   15   81  222 1096]]

[[1328    6    7   19  116   22   20    7   23   18    6]
 [   8 1355   71  106    0    2    9    0    1    1    1]
 [  16   79 1082  220    2    2   10    1    1    0    3]
 [  21   36  113 1166    2    0   10    0    0    1    0]
 [ 140    3    4   20 1259   87   39    1   14   31   26]
 [  47    2    1   13   65 1379    6   10   45  127  142]
 [  32    8   21   33   63   23 1471    0    3    4    2]
 [   3    0    0    2    0    2    1 1476   66   17    3]
 [  15    1    0    7    3   13    2  100 1070  219   18]
 [  39    0    0   10    4   37    3   48  204 1187   98]
 [  44    0    0    6   15  120    7   21   86  219 1085]]
train correct
0.9997103576118019
F1 Score test
0.6567922987670801
test correct
0.8105775357701442
Missclassification Error
[0.18942246422985576]

7(n_estimators=350, max_depth=27, n_jobs=4, max_features=0.4, oob_score=False, random_state=531, balance=[4, 5, 14, 1], [0.42, 0.25, 0.2, 0.2])
(1)
[[1634   13    5   11  354   37   12    3   19   18   18]
 [  11 3897  104  196   13    4   27    0    2    2    2]
 [  16  180 1029  171    9    1   13    0    0    1    0]
 [  20   85   79 1086   27    2   17    0    3    4    2]
 [ 233    9    3   27 6961  251   70    1   31   49   75]
 [  63    1    0    1  262 4617   12    9   86  147  337]
 [  30   30   16   25  187   31 3037    0    6    5    5]
 [   0    0    0    0    0    3    0 1882   89   16    5]
 [   9    1    0    0    5   34    5   93 2384  287   72]
 [  25    3    0    6   22   84    2   38  341 2457  250]
 [  41    1    0    6   80  297    6   20  143  318 3281]]
train correct
0.9982362028133149
F1 Score test
0.6949550497283975
test correct
0.8479632063074901
Missclassification Error
[0.1520367936925099]

(2)
[[1634   13    5   11  354   37   12    3   19   18   18]
 [  11 3897  104  196   13    4   27    0    2    2    2]
 [  16  180 1029  171    9    1   13    0    0    1    0]
 [  20   85   79 1086   27    2   17    0    3    4    2]
 [ 233    9    3   27 6961  251   70    1   31   49   75]
 [  63    1    0    1  262 4617   12    9   86  147  337]
 [  30   30   16   25  187   31 3037    0    6    5    5]
 [   0    0    0    0    0    3    0 1882   89   16    5]
 [   9    1    0    0    5   34    5   93 2384  287   72]
 [  25    3    0    6   22   84    2   38  341 2457  250]
 [  41    1    0    6   80  297    6   20  143  318 3281]]
train correct
0.9982362028133149
F1 Score test
0.6949550497283975
test correct
0.8479632063074901
Missclassification Error
[0.1520367936925099]

8(n_estimators=350, max_depth=27, n_jobs=4, max_features=0.4, oob_score=False, random_state=531, balance=[4, 5, 14, 1], [0.42, 0.25, 0.2, 0.2])
select_par = ['online_time_norm', 'contract_type', 'pay_num_norm',
              'local_trafffic_month_norm',
              'service2_caller_time_norm', 'age_norm',
              'fee_mean', 'fee_mean_2', 'fee_std', 'fee_mean_2_norm',
              'fee_fluctuate', 'month_traffic_hierarchy', 'contract_time_hierarchy', 'pay_nums_hierarchy',
              'last_month_traffic_hierarchy', 'local_trafffic_month_hierarchy', 'local_caller_time_hierarchy',
              'service1_caller_time_hierarchy',
              'user_id']
[[1245   15    2   15  622   82   13    3   17   31   29]
 [  22 3691  158  184   24    6   58    0    3    1    3]
 [  13  400  697  235   13    2   33    0    0    0    0]
 [  24  206   92  892   30    4   42    1    1    4    3]
 [ 494   24    9   20 6498  289  115    1   42   80  109]
 [  64    7    1    4  329 4513   19   18  140  198  317]
 [  29   55    8   32  220   33 2941    2    3    8    5]
 [   6    1    0    1    1    6    2 1835  111   29    6]
 [  13    1    0    2   22   50    4  143 2272  347  119]
 [  20    2    0    2   37  108    5   57  519 2257  293]
 [  51    6    0    4   91  297   12   37  261  432 3045]]
train correct
0.9980405498141296
F1 Score test
[0.6140567200986436, 0.8625847160551531, 0.590677966101695, 0.6631970260223048, 0.8347893114080165, 0.8205454545454546, 0.893920972644377, 0.8962148962148963, 0.7164932198044781, 0.6750411245700613, 0.7458665033680343]
0.5711770128593899
test correct
0.7854402102496715
Missclassification Error
[0.21455978975032852]











